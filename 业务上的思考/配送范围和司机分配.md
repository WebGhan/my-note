# 配送范围和司机分配

## 一、如何判断客户收货地址是否在配送范围内？

我们实际的配送业务是可以按行政区划分的，这样只要客户提供一个正确的地址（行政区+详细地址），我们就能判断其是否在配送范围内;

例如：我们的配送范围是四川省成都市，那么客户的收货地址只要是四川省成都市开头，就属于我们的配送范围，这样不仅很精确，还有一个好处，就是可以从司机的配送区域划分中解耦（我没记错的话，我们之前是耦合的）


## 二、单个司机配送区域如何划分？

司机的配送区域划分，目的是自动化的将订单分配给司机，减少人工操作，我们目前是通过在地图上手动划分范围，根据收货地址坐标来匹配司机，对于没有匹配到司机的订单，管理员应该可以在后台手动操作分配给司机

> 缺点：在地图上划分存在精细度的问题

> 未来我们还可以考虑两点：1.按照行政区来划分；2.区域与司机多对多


## 三、收货地址的地理坐标是否一定要很精确?

不必要，也做不到

**为什么做不到？**

由于地图服务的精度，时效等问题，如果客户的收货地址太偏僻，很难通过地理/逆地理编码得到一个精确的地理坐标(https://lbs.amap.com/api/webservice/guide/api/georegeo)

**为什么不必要？**

地理坐标主要用于 匹配司机 和 配送时的地图导航

1. 我们目前按地图围栏来匹配司机，本身就是一个模糊分配的方式
2. 导航的目的地精度差几百米是可以接受的，司机到达目的地附近，据客户所填地址自行判断即可