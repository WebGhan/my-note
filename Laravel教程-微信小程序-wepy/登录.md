## 登录
wxml 部分
```html
<template>
  <view>
    <view wx:if="{{ errorMessage }}">{{ errorMessage }}</view>
    <!-- 填写用户名 -->
    <view>用户名</view>
    <input class="weui-input" placeholder="手机号或邮箱" @input="bindUsernameInput" />
    <!-- 密码 -->
    <view>密码</view>
    <input class="weui-input" placeholder="输入密码" @input="bindPasswordInput" />
    <!-- 登录按钮 -->
    <button @tap="submit">登录</button>
  </view>
</template>
```
js 部分
```javascript
import wepy from 'wepy'
import api from '@/utils/api'

export default class Login extends wepy.page {
  data = {
    // 用户名
    username: '',
    // 密码
    password: '',
    // 是否有错
    error: false,
    // 错误信息
    errorMessage: ''
  }
  methods = {
    // 绑定 input
    bindUsernameInput (e) {
      this.username = e.detail.value
    },
    bindPasswordInput (e) {
      this.password = e.detail.value
    },
    // 提交表单
    async submit() {
      // 重置错误
      this.error = false
      this.errorMessage = ''

      // 如果用户名或密码为空
      if (!this.username || !this.password) {
        this.errorMessage = '请填写账户名和密码'
        return
      }

      // 获取用户名和密码
      let params = {
        username: this.username,
        password: this.password
      }

      try {
        // 调用登录接口
        let authResponse = await api.login(params)
        // 登录成功，返回上一页
        if (authResponse.statusCode === 201) {
          wepy.navigateBack()
        }
        // 请求结果为 401 说明用户名和密码错误，显示错误提示
        if (authResponse.statusCode === 401) {
          this.error = true
          this.errorMessage = authResponse.data.message
          this.$apply()
        }
      } catch (err) {
        wepy.showModal({
          title: '提示',
          content: '服务器错误，请联系管理员'
        })
      }
    }
  }
}
```