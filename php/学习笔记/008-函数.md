# 函数

## 通过引用传递参数

如果希望允许函数修改它的参数值，就必须通过引用传递参数

```php
function test(&$a){
  $a = $a + 1;
  return $a;
}
$x = 1;
echo test($x);
echo $x; // 2
```

引用传递的参数必须是一个变量


## 参数类型声明

类型 | 说明 | PHP 版本
--- | --- |---
class/interface name（类，接口） | 参数必须是指定类或接口的实例 | PHP 5.0.0
Array | 参数必须是数组类型 | PHP 5.1.0
Callable | 参数必须是有效的回调类型 | PHP 5.4.0
Bool | 参数必须是布尔型 | PHP 7.0.0
Float | 参数必须是浮点型 | PHP 7.0.0
Int | 参数必须是整型 | PHP 7.0.0
String | 参数必须是字符串 | PHP 7.0.0
Object | 参数必须是对象 | PHP 7.2.0


### 严格模式

默认情况下，如果能做到的话，PHP将会强迫错误类型的值转为函数期望的标量类型。  

可以基于每一个文件开启严格模式。在严格模式中，只有一个与类型声明完全相符的变量才会被接受，否则将会抛出一个TypeError。 唯一的一个例外是可以将integer传给一个期望float的函数。

```php
declare(strict_types=1);
```


## 可变参数

在 PHP 5.6 及以后的版本中，参数可包含…来表示函数可接受一个可变数量的参数，可变参数将会被当作一个数组传递给函数
```php
function test(...$num) {
  $acc = 0;
  foreach ($num as $key => $value) {
    $acc += $value;
  }
  return $acc;
}
echo test(1,2,3,4); // 10
```


## 返回值类型声明
PHP 7 增加了对返回值类型声明的支持。 就如 类型声明一样, 返回值类型声明将指定该函数返回值的类型。同样，返回值类型声明也与 有效类型 中可用的参数类型声明一致。  
严格类型 也会影响返回值类型声明。

```php
function sum($a, $b): float {
  return $a + $b;
}

var_dump(sum(1, 2));
```


## 可变函数
